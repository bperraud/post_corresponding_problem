{"ast":null,"code":"var _jsxFileName = \"/home/ad/Bureau/infof308/src/front/src/components/Instance.js\";\nimport React from 'react';\nimport Domino from './Domino';\nimport HelpPopup from './HelpPopup';\nimport { v4 as uuidv4 } from 'uuid';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Instance extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToSolution = (e, _top, _bottom) => {\n      switch (e.detail) {\n        case 1:\n          break;\n\n        case 2:\n          const obj = {\n            id: uuidv4(),\n            topText: _top,\n            bottomText: _bottom\n          };\n          const temp = [...this.state.addedDominos];\n          temp.push(obj);\n          this.setState({\n            addedDominos: temp\n          });\n          break;\n\n        default:\n          return;\n      }\n    };\n\n    this.handleOnDragEnd = result => {\n      if (!result.destination) return;\n      const items = Array.from(this.state.addedDominos);\n      const [reorderedItem] = items.splice(result.source.index, 1);\n      items.splice(result.destination.index, 0, reorderedItem);\n      this.setState({\n        addedDominos: items\n      });\n    };\n\n    this.handleClick = (e, index) => {\n      switch (e.detail) {\n        case 1:\n          break;\n\n        case 2:\n          const items = Array.from(this.state.addedDominos);\n          items.splice(index, 1);\n          this.setState({\n            addedDominos: items\n          });\n          break;\n\n        default:\n          return;\n      }\n    };\n\n    this.setTrigger = () => {\n      this.setState({\n        won: false\n      });\n      this.setState({\n        addedDominos: []\n      });\n    };\n\n    this.state = {\n      dominos: [],\n      addedDominos: [],\n      won: false\n    };\n  }\n\n  convertStringToArray() {\n    this.state.dominos = [];\n    const receiveddata = this.props.data;\n    console.log(\"received \" + receiveddata);\n    const dataToString = JSON.stringify(receiveddata);\n    const ConvertedData = dataToString.split(\",\");\n\n    if (ConvertedData.length % 2 === 0) {\n      for (let i = 0; i < ConvertedData.length; i += 2) {\n        let top = ConvertedData[i].replace('\"', \"\");\n        let bottom = ConvertedData[i + 1].replace('\"', \"\");\n        const Obj = {\n          id: uuidv4(),\n          topText: top,\n          bottomText: bottom\n        };\n        this.state.dominos.push(Obj);\n      }\n    }\n  }\n\n  isWon() {\n    var top = \"\";\n    var bottom = \"\";\n\n    for (let i = 0; i < this.state.addedDominos.length; i++) {\n      top += this.state.addedDominos[i].topText;\n      bottom += this.state.addedDominos[i].bottomText;\n    }\n\n    this.state.won = top === bottom;\n    return top === bottom && top !== \"\";\n  }\n\n  render() {\n    this.convertStringToArray();\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Instance :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"game\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"elements\",\n          children: this.state.dominos.map((_ref, index) => {\n            let {\n              topText,\n              bottomText\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: e => this.addToSolution(e, topText, bottomText),\n                children: /*#__PURE__*/_jsxDEV(Domino, {\n                  topText: topText,\n                  bottomText: bottomText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Solution :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"game\",\n        children: /*#__PURE__*/_jsxDEV(DragDropContext, {\n          onDragEnd: this.handleOnDragEnd,\n          children: /*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: \"elements\",\n            direction: \"horizontal\",\n            children: provided => /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"elements\",\n              ...provided.droppableProps,\n              ref: provided.innerRef,\n              children: [this.state.addedDominos.map((_ref2, index) => {\n                let {\n                  id,\n                  topText,\n                  bottomText\n                } = _ref2;\n                return /*#__PURE__*/_jsxDEV(Draggable, {\n                  draggableId: id,\n                  index: index,\n                  children: provided => /*#__PURE__*/_jsxDEV(\"li\", {\n                    ref: provided.innerRef,\n                    ...provided.draggableProps,\n                    ...provided.dragHandleProps,\n                    onClick: e => this.handleClick(e, index),\n                    children: /*#__PURE__*/_jsxDEV(Domino, {\n                      topText: topText,\n                      bottomText: bottomText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 33\n                  }, this)\n                }, id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 29\n                }, this);\n              }), provided.placeholder]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), this.isWon() && /*#__PURE__*/_jsxDEV(HelpPopup, {\n        setTrigger: this.setTrigger,\n        text: \"You won\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Instance;","map":{"version":3,"sources":["/home/ad/Bureau/infof308/src/front/src/components/Instance.js"],"names":["React","Domino","HelpPopup","v4","uuidv4","DragDropContext","Droppable","Draggable","Instance","Component","constructor","props","addToSolution","e","_top","_bottom","detail","obj","id","topText","bottomText","temp","state","addedDominos","push","setState","handleOnDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","index","handleClick","setTrigger","won","dominos","convertStringToArray","receiveddata","data","console","log","dataToString","JSON","stringify","ConvertedData","split","length","i","top","replace","bottom","Obj","isWon","render","map","provided","droppableProps","innerRef","draggableProps","dragHandleProps","placeholder"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Domino from './Domino';\nimport HelpPopup from './HelpPopup'\nimport { v4 as uuidv4 } from 'uuid';\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd'\n\nclass Instance extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            dominos : [],\n            addedDominos : [],\n            won : false\n        }\n    }\n\n\n    convertStringToArray(){\n        this.state.dominos = []\n        const receiveddata =  this.props.data;\n        console.log(\"received \" + receiveddata);\n        const dataToString = JSON.stringify(receiveddata)\n        const ConvertedData = dataToString.split(\",\");\n        if (ConvertedData.length%2 === 0){\n            for (let i=0; i < ConvertedData.length ; i+=2){\n                let top = ConvertedData[i].replace('\"',\"\")\n                let bottom = ConvertedData[i+1].replace('\"',\"\")\n                const Obj = {id: uuidv4(), topText : top , bottomText : bottom}\n                this.state.dominos.push(Obj)\n            }\n        }\n    }\n  \n    addToSolution = (e, _top, _bottom) =>{\n        switch(e.detail){\n            case 1:\n                break;\n            case 2:\n                const obj = {id : uuidv4(), topText: _top, bottomText :_bottom}\n                const temp = [...this.state.addedDominos]\n                temp.push(obj);\n                this.setState({ addedDominos : temp})\n                break;\n            default:\n                return;\n        }\n    }\n\n    handleOnDragEnd = (result) => {\n        if (!result.destination) return;\n        const items = Array.from(this.state.addedDominos);\n        const [reorderedItem] = items.splice(result.source.index, 1);\n        items.splice(result.destination.index, 0, reorderedItem);\n        this.setState({addedDominos : items});\n      }\n\n    handleClick = (e, index) => {\n        switch (e.detail) {\n          case 1:\n            break;\n          case 2:\n            const items = Array.from(this.state.addedDominos);\n            items.splice(index,1);\n            this.setState({addedDominos : items})\n            break;\n          default:\n            return;\n        }\n      };\n\n      isWon(){\n          var top = \"\";\n          var bottom = \"\";\n          for (let i = 0; i<this.state.addedDominos.length; i++){\n                top += this.state.addedDominos[i].topText;\n                bottom += this.state.addedDominos[i].bottomText;\n          }\n          this.state.won = top === bottom;\n          return top === bottom && top !== \"\";\n      }\n\n    setTrigger = () => {\n        this.setState({won : false})\n        this.setState({addedDominos : []})\n    }\n\n\n    render(){\n        this.convertStringToArray();\n        return (\n            <div>\n                <div>Instance :</div>\n                <div id='game'>\n                    <ul className=\"elements\">\n                        {this.state.dominos.map(({topText, bottomText}, index) => {\n                            return (\n                                <li>\n                                    <div onClick={(e) => this.addToSolution(e,topText, bottomText)}>\n                                    <Domino topText={topText} bottomText={bottomText}></Domino>\n                                    </div>\n                                </li>\n                                )\n                            }\n                        )\n                    }\n                    </ul>\n                </div>\n                <div>\n                    Solution : \n                </div>\n                <div id='game'>\n                <DragDropContext onDragEnd={this.handleOnDragEnd}>\n                    <Droppable droppableId=\"elements\" direction='horizontal'>\n                    {(provided) => (\n                        <ul className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\n                        {this.state.addedDominos.map(({id, topText, bottomText}, index) => {\n                            return (\n                            <Draggable key={id} draggableId={id} index={index}>\n                                {(provided) => (\n                                <li\n                                    ref={provided.innerRef} \n                                    {...provided.draggableProps} \n                                    {...provided.dragHandleProps}\n                                    onClick={(e) => this.handleClick(e, index)}>\n                                    <Domino topText={topText} bottomText={bottomText}></Domino>\n                                </li>\n                                )}\n                            </Draggable>\n                            );\n                        })}\n                        {provided.placeholder}\n                        </ul>\n                    )}\n                    \n                    </Droppable>\n                </DragDropContext>\n                \n            </div>\n            {this.isWon() && <HelpPopup setTrigger={this.setTrigger}text = \"You won\"/>}\n            </div>\n        )\n    }\n}\n\n\nexport default Instance"]},"metadata":{},"sourceType":"module"}