{"ast":null,"code":"var _jsxFileName = \"/home/ad/Bureau/infof308/src/src/components/Instance.js\";\nimport React from 'react';\nimport Domino from './Domino';\nimport HelpPopup from './HelpPopup';\nimport { v4 as uuidv4 } from 'uuid';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Instance extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addToSolution = (e, _top, _bottom) => {\n      switch (e.detail) {\n        case 1:\n          break;\n\n        case 2:\n          const obj = {\n            id: uuidv4(),\n            topText: _top,\n            bottomText: _bottom\n          };\n          const temp = [...this.state.addedDominos];\n          temp.push(obj);\n          this.setState({\n            addedDominos: temp\n          });\n          this.isWon();\n          break;\n\n        default:\n          return;\n      }\n    };\n\n    this.handleOnDragEnd = result => {\n      if (!result.destination) return;\n      const items = Array.from(this.state.addedDominos);\n      const [reorderedItem] = items.splice(result.source.index, 1);\n      items.splice(result.destination.index, 0, reorderedItem);\n      this.setState({\n        addedDominos: items\n      });\n      this.isWon();\n    };\n\n    this.handleClick = (e, index) => {\n      switch (e.detail) {\n        case 1:\n          break;\n\n        case 2:\n          const items = Array.from(this.state.addedDominos);\n          items.splice(index, 1);\n          this.setState({\n            addedDominos: items\n          });\n          this.isWon();\n          break;\n\n        default:\n          return;\n      }\n    };\n\n    this.setTrigger = () => {\n      this.setState({\n        won: false\n      });\n      this.setState({\n        addedDominos: []\n      });\n    };\n\n    this.state = {\n      dominos: [],\n      addedDominos: [],\n      won: false\n    };\n    this.convertStringToArray();\n  }\n\n  convertStringToArray() {\n    const ConvertedData = this.props.data.split(\",\");\n\n    if (ConvertedData.length % 2 === 0) {\n      for (let i = 0; i < ConvertedData.length; i += 2) {\n        const Obj = {\n          id: uuidv4(),\n          topText: ConvertedData[i],\n          bottomText: ConvertedData[i + 1]\n        };\n        this.state.dominos.push(Obj);\n      }\n    }\n  }\n\n  isWon() {\n    var top = \"\";\n    var bottom = \"\";\n\n    for (let i = 0; i < this.state.addedDominos.length; i++) {\n      top += this.state.addedDominos[i].topText;\n      bottom += this.state.addedDominos[i].bottomText;\n    }\n\n    this.setState({\n      won: top === bottom && top === \"\"\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Instance :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"game\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"elements\",\n          children: this.state.dominos.map((_ref, index) => {\n            let {\n              topText,\n              bottomText\n            } = _ref;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: e => this.addToSolution(e, topText, bottomText),\n                children: /*#__PURE__*/_jsxDEV(Domino, {\n                  topText: topText,\n                  bottomText: bottomText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Solution :\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"game\",\n        children: [this.state.won && /*#__PURE__*/_jsxDEV(HelpPopup, {\n          setTrigger: this.setTrigger,\n          text: \"You won\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(DragDropContext, {\n          onDragEnd: this.handleOnDragEnd,\n          children: /*#__PURE__*/_jsxDEV(Droppable, {\n            droppableId: \"elements\",\n            direction: \"horizontal\",\n            children: provided => /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"elements\",\n              ...provided.droppableProps,\n              ref: provided.innerRef,\n              children: [this.state.addedDominos.map((_ref2, index) => {\n                let {\n                  id,\n                  topText,\n                  bottomText\n                } = _ref2;\n                return /*#__PURE__*/_jsxDEV(Draggable, {\n                  draggableId: id,\n                  index: index,\n                  children: provided => /*#__PURE__*/_jsxDEV(\"li\", {\n                    ref: provided.innerRef,\n                    ...provided.draggableProps,\n                    ...provided.dragHandleProps,\n                    onClick: e => this.handleClick(e, index),\n                    children: /*#__PURE__*/_jsxDEV(Domino, {\n                      topText: topText,\n                      bottomText: bottomText\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 33\n                  }, this)\n                }, id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 29\n                }, this);\n              }), provided.placeholder]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Instance;","map":{"version":3,"sources":["/home/ad/Bureau/infof308/src/src/components/Instance.js"],"names":["React","Domino","HelpPopup","v4","uuidv4","DragDropContext","Droppable","Draggable","Instance","Component","constructor","props","addToSolution","e","_top","_bottom","detail","obj","id","topText","bottomText","temp","state","addedDominos","push","setState","isWon","handleOnDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","index","handleClick","setTrigger","won","dominos","convertStringToArray","ConvertedData","data","split","length","i","Obj","top","bottom","render","map","provided","droppableProps","innerRef","draggableProps","dragHandleProps","placeholder"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Domino from './Domino';\nimport HelpPopup from './HelpPopup'\nimport { v4 as uuidv4 } from 'uuid';\nimport {DragDropContext, Droppable, Draggable} from 'react-beautiful-dnd'\n\nclass Instance extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            dominos : [],\n            addedDominos : [],\n            won : false\n        }\n        this.convertStringToArray();\n\n    }\n\n    convertStringToArray(){\n        const ConvertedData = this.props.data.split(\",\");\n        if (ConvertedData.length%2 === 0){\n            for (let i=0; i < ConvertedData.length ; i+=2){\n                const Obj = {id: uuidv4(), topText : ConvertedData[i] , bottomText : ConvertedData[i+1]}\n                this.state.dominos.push(Obj)\n            }\n        }\n    }\n  \n    addToSolution = (e, _top, _bottom) =>{\n        switch(e.detail){\n            case 1:\n                break;\n            case 2:\n                const obj = {id : uuidv4(), topText: _top, bottomText :_bottom}\n                const temp = [...this.state.addedDominos]\n                temp.push(obj);\n                this.setState({ addedDominos : temp})\n                this.isWon()\n                break;\n            default:\n                return;\n        }\n    }\n\n    handleOnDragEnd = (result) => {\n        if (!result.destination) return;\n        const items = Array.from(this.state.addedDominos);\n        const [reorderedItem] = items.splice(result.source.index, 1);\n        items.splice(result.destination.index, 0, reorderedItem);\n        this.setState({addedDominos : items});\n        this.isWon()\n      }\n\n    handleClick = (e, index) => {\n        switch (e.detail) {\n          case 1:\n            break;\n          case 2:\n            const items = Array.from(this.state.addedDominos);\n            items.splice(index,1);\n            this.setState({addedDominos : items})\n            this.isWon()\n            break;\n          default:\n            return;\n        }\n      };\n\n      isWon(){\n          var top = \"\";\n          var bottom = \"\";\n          for (let i = 0; i<this.state.addedDominos.length; i++){\n                top += this.state.addedDominos[i].topText;\n                bottom += this.state.addedDominos[i].bottomText;\n          }\n          this.setState({won : top === bottom && top === \"\"})\n      }\n\n    setTrigger = () => {\n        this.setState({won : false})\n        this.setState({addedDominos : []})\n    }\n\n\n    render(){\n        return (\n            <div>\n                <div>Instance :</div>\n                <div id='game'>\n                    <ul className=\"elements\">\n                        {this.state.dominos.map(({topText, bottomText}, index) => {\n                            return (\n                                <li>\n                                    <div onClick={(e) => this.addToSolution(e,topText, bottomText)}>\n                                    <Domino topText={topText} bottomText={bottomText}></Domino>\n                                    </div>\n                                </li>\n                                )\n                            }\n                        )\n                    }\n                    </ul>\n                </div>\n                <div>\n                    Solution : \n                </div>\n                <div id='game'>\n                {this.state.won && <HelpPopup setTrigger={this.setTrigger}text = \"You won\"/>}\n                <DragDropContext onDragEnd={this.handleOnDragEnd}>\n                    <Droppable droppableId=\"elements\" direction='horizontal'>\n                    {(provided) => (\n                        <ul className=\"elements\" {...provided.droppableProps} ref={provided.innerRef}>\n                        {this.state.addedDominos.map(({id, topText, bottomText}, index) => {\n                            return (\n                            <Draggable key={id} draggableId={id} index={index}>\n                                {(provided) => (\n                                <li\n                                    ref={provided.innerRef} \n                                    {...provided.draggableProps} \n                                    {...provided.dragHandleProps}\n                                    onClick={(e) => this.handleClick(e, index)}>\n                                    <Domino topText={topText} bottomText={bottomText}></Domino>\n                                </li>\n                                )}\n                            </Draggable>\n                            );\n                        })}\n                        {provided.placeholder}\n                        </ul>\n                    )}\n                    </Droppable>\n                </DragDropContext>\n            </div>\n            </div>\n        )\n    }\n}\n\n\n\n\n\nexport default Instance"]},"metadata":{},"sourceType":"module"}